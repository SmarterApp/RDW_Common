package org.opentestsystem.rdw.script;

import java.util.List;

/**
 * Repository responsible for managing published pipelines
 */
public interface PipelineDefinitionRepository {

    /**
     * Finds all of the published pipelines matching the given pipeline code and version
     *
     * @param code The pipeline code to filter on
     * @param version The pipeline version to filter on if any
     * @return All published pipelines for the given pipeline code
     */
    List<PipelineDefinition> findAllByCodeAndVersion(String code, Integer version);

    /**
     * Creates a published pipeline artifact
     *
     * @param pipeline The pipeline to publish
     * @return The created pipeline
     */
    PipelineDefinition create(PipelineDefinition pipeline);

}
