package org.opentestsystem.rdw.script;

import java.util.List;

/**
 * Repository responsible for managing published pipelines
 */
public interface PipelineDefinitionRepository {

    /**
     * Finds all of the published pipelines matching the given pipeline code and version
     *
     * @param code The pipeline code
     * @return All published pipelines for the given pipeline code
     */
    List<PipelineDefinition> findAllByCode(String code);

    /**
     * Finds The published pipeline matching the given pipeline code and version
     *
     * @param code The pipeline code
     * @param version The pipeline version
     * @return All published pipelines for the given pipeline code
     */
    PipelineDefinition findByCodeAndVersion(String code, int version);

    /**
     * Creates a published pipeline artifact
     *
     * @param pipeline The pipeline to publish
     * @return The created pipeline
     */
    PipelineDefinition create(PipelineDefinition pipeline);

}
